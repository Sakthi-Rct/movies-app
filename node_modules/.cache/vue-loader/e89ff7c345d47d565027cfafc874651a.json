{"remainingRequest":"/Users/sakthivel/Desktop/movies-app/world-movies/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sakthivel/Desktop/movies-app/world-movies/src/pages/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sakthivel/Desktop/movies-app/world-movies/src/pages/Login.vue","mtime":1583310778499},{"path":"/Users/sakthivel/Desktop/movies-app/world-movies/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sakthivel/Desktop/movies-app/world-movies/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sakthivel/Desktop/movies-app/world-movies/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sakthivel/Desktop/movies-app/world-movies/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { USER } from \"../constants\";\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      error: {}\n    };\n  },\n  beforeCreate: function() {\n    if(this.$parent.isAuthenticated) {\n      this.$router.push({ path: '/home' });\n    }\n  },\n  methods: {\n    onSubmit(e) {\n      this.error = {};\n      if (!this.username) {\n        this.error.username = \"Please enter the username\";\n      }\n      if (!this.password) {\n        this.error.password = \"Please enter the password\";\n      }\n\n      if (this.username && this.password) {\n        if (this.username === USER.NAME && this.password === USER.PASSWORD) {\n          this.$parent.isAuthenticated = true;\n          window.sessionStorage.setItem('isLoggedIn', true);\n          this.$router.push({ path: 'home' });\n        } else {\n          this.error.generic = \"Username or password is invalid\";\n        }\n      }\n\n      e.preventDefault();\n    }\n  }\n};\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/pages","sourcesContent":["<template>\n  <section class=\"hero is-fullheight\">\n    <div class=\"hero-body\">\n      <div class=\"container\">\n        <div class=\"column is-4 is-offset-4\">\n          <h3 class=\"title has-text-grey has-text-centered\">Login</h3>\n          <p class=\"subtitle has-text-grey has-text-centered\">Please login to proceed.</p>\n\n          <div class=\"card\">\n            <form class=\"card-content\" @submit=\"onSubmit\" novalidate=\"true\">\n              <div class=\"field\">\n                <label>Username</label>\n                <input name=\"username\" class=\"input\" type=\"text\" autofocus v-model=\"username\" autocomplete>\n                <div class=\"has-text-danger h5\" v-if=\"error.username\" data-cy=\"username-error\">{{ error.username }}</div>\n              </div>\n              <div class=\"field\">\n                <label>Password</label>\n                <input name=\"password\" class=\"input\" type=\"password\" v-model=\"password\" autocomplete>\n                <div class=\"has-text-danger h5\" v-if=\"error.password\" data-cy=\"password-error\">{{ error.password }}</div>\n                <div class=\"has-text-danger h5\" v-if=\"error.generic\" data-cy=\"invalid-credentials-error\">{{ error.generic }}</div>\n              </div>\n              <div class=\"field\">\n                <button type=\"submit\" class=\"button is-primary\" data-cy=\"submit\">Login</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { USER } from \"../constants\";\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      error: {}\n    };\n  },\n  beforeCreate: function() {\n    if(this.$parent.isAuthenticated) {\n      this.$router.push({ path: '/home' });\n    }\n  },\n  methods: {\n    onSubmit(e) {\n      this.error = {};\n      if (!this.username) {\n        this.error.username = \"Please enter the username\";\n      }\n      if (!this.password) {\n        this.error.password = \"Please enter the password\";\n      }\n\n      if (this.username && this.password) {\n        if (this.username === USER.NAME && this.password === USER.PASSWORD) {\n          this.$parent.isAuthenticated = true;\n          window.sessionStorage.setItem('isLoggedIn', true);\n          this.$router.push({ path: 'home' });\n        } else {\n          this.error.generic = \"Username or password is invalid\";\n        }\n      }\n\n      e.preventDefault();\n    }\n  }\n};\n</script>\n"]}]}